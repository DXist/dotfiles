#!/bin/bash

# This script recreates $2 local and svn branch from $1
# It assumes than local branch name is svn-<svn branch name>

if [ $# == 2 ]; then
	BASE=$1
	SVN_REBRANCH=$2
	REBRANCH=svn-$2
	git checkout $REBRANCH && \
	svn delete -m "- branch $SVN_REBRANCH" `git svn info --url` && \
	git checkout master && \
	git branch -D $REBRANCH && \
	git branch -d -r $SVN_REBRANCH && \
	git svn branch $SVN_REBRANCH && \
	git checkout -b $REBRANCH -t $SVN_REBRANCH
else
	echo "Usage: $0 <base_branch> <svn_branch_to_rebranch>"
fi

